{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Message.js","services/contacts.js","App.js","index.js"],"names":["Filter","props","onChange","handleFilter","value","filter","PersonForm","onSubmit","handleSubmit","handleChange","newName","name","newNumber","type","Persons","console","log","persons","length","map","person","key","number","onClick","deleteContact","id","toLowerCase","includes","Message","message","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setFilter","successMessage","setSuccessMessage","reload","setReload","useEffect","contacts","initialContacts","event","target","preventDefault","newPerson","found","some","window","confirm","toReplace","returnedPerson","catch","error","setTimeout","concat","updatedContacts","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1e3dbfbe.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    return <> filter show with: <input onChange={props.handleFilter} value={props.filter} /> </>\r\n}\r\n\r\nexport default Filter;","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n          name: <input onChange={props.handleChange} value={props.newName} name=\"name\" />\r\n        </div>\r\n        <div>\r\n          number:{\" \"}\r\n          <input onChange={props.handleChange} value={props.newNumber} name=\"number\" />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm;","import React from \"react\";\r\n\r\nconst Persons = (props) => {\r\n  console.log(props.persons)\r\n  if (props.persons.length !== 0) {\r\n    return (\r\n      <>\r\n        {props.filter === \"\"\r\n          ? props.persons.map((person, key) => (\r\n              <p key={key}>\r\n                {person.name} {person.number}{\" \"}\r\n                <button onClick={() => props.deleteContact(person.id)}>\r\n                  delete\r\n                </button>\r\n              </p>\r\n            ))\r\n          : props.persons\r\n              .filter((person) =>\r\n                person.name.toLowerCase().includes(props.filter.toLowerCase())\r\n              )\r\n              .map((person, key) => (\r\n                <p key={key}>\r\n                  {person.name} {person.number}{\" \"}\r\n                  <button onClick={() => props.deleteContact(props.person.id)}>\r\n                    delete\r\n                  </button>\r\n                </p>\r\n              ))}\r\n      </>\r\n    );\r\n  }\r\n  return 'Loading...'\r\n};\r\n\r\nexport default Persons;\r\n","import React from 'react'\r\n\r\nconst Message = ({ message }) => {\r\n    if (message === null) {\r\n      return null;\r\n    }\r\n  \r\n    return <div className={message.includes(\"Error:\") ? \"error\" : \"add\"}>{message}</div>;\r\n  };\r\n\r\nexport default Message;","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nexport default {\r\n  getAll,\r\n  create,\r\n  update,\r\n  remove,\r\n};\r\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter.js\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Message from \"./components/Message\";\nimport contacts from \"./services/contacts\";\nimport \"./index.css\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(null);\n  const [reload, setReload] = useState(false);\n\n  useEffect(() => {\n    contacts.getAll().then((initialContacts) => setPersons(initialContacts));\n  }, [reload]);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n    const found = persons.some((person) => {\n      return person.name === newName;\n    });\n    if (found) {\n      const replace = window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one?`\n      );\n      if (replace) {\n        const [toReplace] = persons.filter((person) => person.name === newName);\n        contacts\n          .update(toReplace.id, newPerson)\n          .then((returnedPerson) =>\n            setPersons(\n              persons.map((person) =>\n                person.id !== toReplace.id ? person : returnedPerson\n              )\n            )\n          )\n          .catch((error) => {\n            setSuccessMessage(\n              `Error: Information of ${newName} has already been removed from the server`\n            );\n            setTimeout(() => {\n              setSuccessMessage(null);\n            }, 5000);\n          });\n      } else {\n        setNewName(\"\");\n        setNewNumber(\"\");\n        return;\n      }\n    } else {\n      contacts.create(newPerson).then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n      });\n      setSuccessMessage(\n        found ? `${newName} number was updated` : `Added ${newName}`\n      );\n      setTimeout(() => {\n        setSuccessMessage(null);\n      }, 5000);\n      setNewName(\"\");\n      setNewNumber(\"\");\n    }\n   \n    \n    setTimeout(() => {\n      setReload(!reload);\n      console.log(reload);\n    }, 100);\n   \n  };\n\n  const handleChange = (event) => {\n    const value = event.target.value;\n    const input = event.target.name;\n    input === \"name\" ? setNewName(value) : setNewNumber(value);\n  };\n\n  const handleFilter = (event) => {\n    const value = event.target.value;\n    setFilter(value);\n  };\n\n  const deleteContact = (id) => {\n    contacts.remove(id).then((updatedContacts) => {\n      setPersons(persons.filter((person) => person.id !== id));\n    });\n    setTimeout(() => {\n      setReload(!reload);\n      console.log(reload);\n    }, 100);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Message message={successMessage} />\n      <Filter handleFilter={handleFilter} filter={filter} />\n      <h2>add a new</h2>\n      <PersonForm\n        handleSubmit={handleSubmit}\n        handleChange={handleChange}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        deleteContact={deleteContact}\n        persons={persons}\n        filter={filter}\n      />\n    </div>\n  );\n};\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}